<div>
  <form [formGroup]="searchCocktailsForm" autocomplete="off" class="search-form"
        (submit)="getCocktails()">
    <mat-card-content>
      <div class="search-query-input-and-button">
        <mat-form-field class="search-query-input">
          <mat-label>Search cocktails</mat-label>
          <input matInput [(ngModel)]="currentQuery.query" type="text" placeholder="Cocktail name"
                 formControlName="name"
                 id="cocktails_search_name" (keypress)="checkValue($event)">
          <mat-hint [hidden]="currentQuery.query == null || currentQuery.query.length != 1" align="end">More than 2 characters, space and hyphen are available. Or empty.</mat-hint>
          <!--        <mat-icon matSuffix>supervisor_account</mat-icon>-->
        </mat-form-field>
        <button class="search-submit-button primary-button" type="submit" value="submit"
                [disabled]="!searchCocktailsForm.valid">Search
        </button>
      </div>
      <div class="search-field sort-by-div">
        <label id="sort-by-radio-group-label">Choose the column to sort by</label>
        <div class="sort-by-radio-div">
          <mat-radio-group
            formControlName="sortColumn"
            aria-labelledby="sort-by-radio-group-label"
            class="sort-by-radio-group"
            [(ngModel)]="currentQuery.sortByColumn">
            <mat-radio-button class="sort-by-radio-button" *ngFor="let sortColumn of sortColumns" [value]="sortColumn">
              {{sortColumn}}
            </mat-radio-button>
          </mat-radio-group>
          <mat-radio-group
            formControlName="sortDirection"
            [(ngModel)]="currentQuery.sortDirection">
            <mat-radio-button [value]="true">
              <span class="material-icons">expand_less</span>
            </mat-radio-button>
            <mat-radio-button [value]="false">
              <span class="material-icons">expand_more</span>
            </mat-radio-button>
          </mat-radio-group>

          <mat-radio-group *ngIf="canCreate"
            formControlName="activeMode"
            [(ngModel)]="currentQuery.showActiveMode">
            <mat-radio-button [value]="2">
              <span>Show all</span>
            </mat-radio-button>
            <mat-radio-button [value]="0">
              <span>Only active</span>
            </mat-radio-button>
            <mat-radio-button [value]="1">
              <span>Only inactive</span>
            </mat-radio-button>
          </mat-radio-group>

          <mat-form-field>
            <mat-select placeholder="Category" [(value)]="currentQuery.currentCategory">
              <mat-option *ngFor="let category of categories" [value]="category">
                {{ category.categoryName }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
    </mat-card-content>
    <mat-card-actions>
    </mat-card-actions>
<!--    <small *ngIf="searchCocktailsForm.get('name').invalid" class="text-danger">Incorrect format</small>-->
<!--    // && searchCocktailsForm.get('name').touched  && searchCocktailsForm != ''-->
  </form>
  <div *ngIf="canCreate" class="new-cocktail-block">
    <button class="primary-button" [routerLink]="['/cocktails/create']">New cocktail</button>
  </div>

  <div class="tiles">
    <div class="cocktail-tile"
         *ngFor="let cocktail of cocktails"
         [class.inactive]="!cocktail.isActive"
         [routerLink]="['/cocktails/', cocktail.dishId]" >
      <img [src]="cocktail.image === null ? defaultPhotoUrl : cocktail.image.urlMiddle">
      <b>{{cocktail.name}}</b>
      <div class="tile-text">
        <span *ngIf="cocktail.description != null" class="tile-description">{{cocktail.description}}</span>
        <div class="cocktail-tile-likes">
          <span>Likes:</span>
          <span>{{cocktail.likes}}</span>
        </div>
        <div *ngIf="cocktail.dishCategoryId !== null" class="cocktail-tile-category">
          {{cocktail.dishCategoryName}}
        </div>
      </div>
    </div>
  </div>
</div>
